import{r as t,u as g,j as e}from"./index-ZGB0-ikh.js";import{H as w}from"./Header-DN1NROsP.js";import{L as E,d as S,e as v}from"./Loader-C86QphHU.js";import{M as L}from"./MovieCard-BESDKA2O.js";import{F as R}from"./Footer-gq0U4vu2.js";const d=t.memo(({arr:s})=>{const n=g();return e.jsx(e.Fragment,{children:s.length>0&&e.jsx("div",{className:"main-content",children:s.map(r=>e.jsx(L,{item:r,location:n},r.id))})})}),_="_sectionTitle_g1x6i_1",N="_error_g1x6i_31",c={sectionTitle:_,error:N};function H(){const[s,n]=t.useState(!1),[r,l]=t.useState(!0),[m,i]=t.useState(!1),[u,f]=t.useState([]),[h,p]=t.useState([]);t.useEffect(()=>{const o=new AbortController;async function j(){try{l(!0);const a=await S(1,o),T=await v(1,o);f(T.data.results.slice(0,10)),p(a.data.results.slice(0,20))}catch(a){a.code!=="ERR_CANCELED"&&n(!0)}finally{l(!1)}}return j(),()=>o.abort()},[]),t.useEffect(()=>{const o=()=>{window.scrollY>400?i(!0):i(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const x=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{className:c.sectionTitle,children:"Top Rated Movies"}),s&&e.jsx("p",{className:c.error,children:"Ooooops... Try reloading the page"}),e.jsx(d,{arr:u}),e.jsx("div",{className:c.sectionTitle,children:"Trending Today"}),e.jsx(d,{arr:h}),r&&e.jsx(E,{}),m&&e.jsx("button",{onClick:x,className:"scroll",children:"Scroll to top"}),e.jsx(R,{})]})}export{H as default};
