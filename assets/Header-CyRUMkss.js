import{r as i,c as j,j as e,N as u}from"./index-CMnbS7_i.js";function x(n){var t,c,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(t=0;t<o;t++)n[t]&&(c=x(n[t]))&&(s&&(s+=" "),s+=c)}else for(c in n)n[c]&&(s&&(s+=" "),s+=c);return s}function d(){for(var n,t,c=0,s="",o=arguments.length;c<o;c++)(n=arguments[c])&&(t=x(n))&&(s&&(s+=" "),s+=t);return s}const S="_headerBox_i71wq_1",w="_navSection_i71wq_10",y="_searchSection_i71wq_16",B="_searchIconBtn_i71wq_22",b="_searchIcon_i71wq_22",I="_searchForm_i71wq_45",N="_searchFormOpen_i71wq_58",k="_searchInput_i71wq_64",g="_searchSubmitBtn_i71wq_83",q="_closeBtn_i71wq_105",C="_link_i71wq_128",F="_active_i71wq_138",r={headerBox:S,navSection:w,searchSection:y,searchIconBtn:B,searchIcon:b,searchForm:I,searchFormOpen:N,searchInput:k,searchSubmitBtn:g,closeBtn:q,link:C,active:F},O=i.forwardRef((n,t)=>{const[c,s]=i.useState(!1),[o,l]=i.useState(""),_=j(),h=({isActive:a})=>d(r.link,a&&r.active),p=a=>{a.preventDefault(),o.trim()&&(_(`/movies?filter=${encodeURIComponent(o.trim())}`),l(""),s(!1))},v=()=>{s(!c)},m=()=>{s(!1),l("")};return i.useEffect(()=>{const a=f=>{f.key==="Escape"&&c&&m()};return c&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[c]),e.jsx("header",{ref:t,children:e.jsx("div",{className:"app-wrapper",children:e.jsxs("div",{className:r.headerBox,children:[e.jsxs("div",{className:r.navSection,children:[e.jsx(u,{className:h,to:"/",children:"Home"}),e.jsx(u,{className:h,to:"/movies",children:"Discover"})]}),e.jsxs("div",{className:r.searchSection,children:[e.jsx("button",{className:r.searchIconBtn,onClick:v,"aria-label":"Toggle search",children:e.jsxs("svg",{className:r.searchIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]})}),e.jsxs("form",{className:d(r.searchForm,c&&r.searchFormOpen),onSubmit:p,children:[e.jsx("button",{type:"button",className:r.closeBtn,onClick:m,"aria-label":"Close search",children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsx("input",{className:r.searchInput,type:"text",autoComplete:"off",placeholder:"Search films...",value:o,onChange:a=>l(a.target.value),autoFocus:!0}),e.jsx("button",{type:"submit",className:r.searchSubmitBtn,children:e.jsxs("svg",{className:r.searchIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})]})]})})})});export{O as H};
