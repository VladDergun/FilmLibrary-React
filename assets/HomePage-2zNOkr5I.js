import{r as t,u as T,j as e}from"./index-CMnbS7_i.js";import{H as w}from"./Header-CyRUMkss.js";import{L as g,d as E,e as S}from"./Loader-31L2_ygr.js";import{M as L}from"./MovieCard-BZYbBoR1.js";import{F as R}from"./Footer-D4EOIDuy.js";const d=t.memo(({arr:o})=>{const a=T();return e.jsx(e.Fragment,{children:o.length>0&&e.jsx("div",{className:"main-content",children:o.map(r=>e.jsx(L,{item:r,location:a},r.id))})})}),N="_sectionTitle_14vlv_1",_="_error_14vlv_31",c={sectionTitle:N,error:_};function H(){const[o,a]=t.useState(!1),[r,l]=t.useState(!0),[m,i]=t.useState(!1),[u,p]=t.useState([]),[f,h]=t.useState([]);t.useEffect(()=>{const s=new AbortController;async function j(){try{l(!0);const n=await E(1,s),v=await S(1,s);p(v.data.results.slice(0,10)),h(n.data.results.slice(0,20))}catch(n){n.code!=="ERR_CANCELED"&&a(!0)}finally{l(!1)}}return j(),()=>s.abort()},[]),t.useEffect(()=>{const s=()=>{window.scrollY>400?i(!0):i(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const x=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsxs("div",{className:"app-wrapper",children:[e.jsx("div",{className:c.sectionTitle,children:"Top Rated Movies"}),o&&e.jsx("p",{className:c.error,children:"Ooooops... Try reloading the page"}),e.jsx(d,{arr:u}),e.jsx("div",{className:c.sectionTitle,children:"Trending Today"}),e.jsx(d,{arr:f}),r&&e.jsx(g,{}),m&&e.jsx("button",{onClick:x,className:"scroll",children:"Scroll to top"})]}),e.jsx(R,{})]})}export{H as default};
